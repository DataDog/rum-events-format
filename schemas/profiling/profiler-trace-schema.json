{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "profiling/profiler-trace-schema.json",
  "title": "RumProfilerTrace",
  "type": "object",
  "description": "Schema of a RUM profiler trace containing profiling data enriched with RUM context.",
  "required": [
    "resources",
    "frames",
    "stacks",
    "samples",
    "startClocks",
    "endClocks",
    "clocksOrigin",
    "sampleInterval",
    "longTasks",
    "views"
  ],
  "properties": {
    "resources": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "An array of profiler resources.",
      "readOnly": true
    },
    "frames": {
      "type": "array",
      "items": {
        "$ref": "_profiler-frame-schema.json"
      },
      "description": "An array of profiler frames.",
      "readOnly": true
    },
    "stacks": {
      "type": "array",
      "items": {
        "$ref": "_profiler-stack-schema.json"
      },
      "description": "An array of profiler stacks.",
      "readOnly": true
    },
    "samples": {
      "type": "array",
      "items": {
        "$ref": "_profiler-sample-schema.json"
      },
      "description": "An array of profiler samples.",
      "readOnly": true
    },
    "startClocks": {
      "$ref": "_clocks-state-schema.json",
      "description": "High resolution time when profiler trace started, relative to the profiling session's time origin.",
      "readOnly": true
    },
    "endClocks": {
      "$ref": "_clocks-state-schema.json",
      "description": "High resolution time when profiler trace ended, relative to the profiling session's time origin.",
      "readOnly": true
    },
    "clocksOrigin": {
      "$ref": "_clocks-state-schema.json",
      "description": "Time origin of the profiling session.",
      "readOnly": true
    },
    "sampleInterval": {
      "type": "number",
      "description": "Sample interval in milliseconds.",
      "readOnly": true
    },
    "longTasks": {
      "type": "array",
      "items": {
        "$ref": "long-task-entry-schema.json"
      },
      "description": "List of detected long tasks.",
      "readOnly": true
    },
    "views": {
      "type": "array",
      "items": {
        "$ref": "view-entry-schema.json"
      },
      "description": "List of detected navigation entries.",
      "readOnly": true
    }
  }
}
